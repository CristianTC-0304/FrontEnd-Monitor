<form class="formstaff" nz-form [nzLayout]="'inline'" #vacunaForm="ngForm" (ngSubmit)="createVacuna()">
    <div nz-row class="tableStaff">
        <div nz-col nzSpan="12">
            <h2 class="text">Ingreso de producto</h2>
        </div>
        <div nz-col nzSpan="12">
            <button nz-button [disabled]="!vacunaForm.valid" [nzType]="'primary'" class="btnvacuna">
                <i nz-icon type="save"></i>
                Guardar
            </button>
        </div>
        <nz-divider></nz-divider>
    </div>
    <!--(createStaff)="eventSaveForm(staffForm)"-->
    <div class="form-fields" fxLayout="row wrap" fxLayoutGap="40%" fxLayoutAlign="start center">
        <nz-form-item fxLayout="column" fxLayoutAlign="start start" fxFlex="48%" fxFlex.lt-sm="45">
            <nz-form-label for="codProducto" class="ant-form-item-required letter-label-style">Código Producto
            </nz-form-label>
            <br>
            <nz-form-control>
                <nz-tooltip nzTrigger="focus" nzPlacement="topLeft" nzOverlayClassName="numeric-input" [nzTitle]="title">
                    <input class="inputDocument" pattern="[0-9]*" [(ngModel)]="vacuna.codProducto" (ngModelChange)="onChangeDocumento($event)"
                        (blur)="onBlurDocumento()" nz-tooltip #codProducto name="codProducto" nz-input placeholder="Ingrese código producto"
                        digitOnly required style="width: 200px; border: 1px solid #d9d9d9 !important;" />
                </nz-tooltip>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item fxLayout="column" fxLayoutAlign="start start" fxFlex="48%" fxFlex.lt-sm="45">
            <nz-form-label for="nombreProducto" class="ant-form-item-required letter-label-style">Nombre Producto
            </nz-form-label>
            <br>
            <nz-form-control>
                <input class="inputForm" [(ngModel)]="vacuna.nombreProducto" #nombreProducto name="nombreProducto" nz-input placeholder="Ingrese nombre producto"
                    required style="width: 200px; border: 1px solid #d9d9d9 !important" />
            </nz-form-control>
        </nz-form-item>
        <nz-form-item fxLayout="column" fxLayoutAlign="start start" fxFlex="48%" fxFlex.lt-sm="45">
            <nz-form-label for="marcaProducto" class="ant-form-item-required letter-label-style">Marca del Producto
            </nz-form-label>
            <br>
            <nz-form-control>
                <input class="inputForm" [(ngModel)]="vacuna.marcaProducto" #marcaProducto name="marcaProducto" nz-input placeholder="Ingrese marca producto"
                    style="width: 200px; border: 1px solid #d9d9d9 !important" />
            </nz-form-control>
        </nz-form-item>
        <nz-form-item fxLayout="column" fxLayoutAlign="start start" fxFlex="48%" fxFlex.lt-sm="45">
            <nz-form-label for="unidadMedida" class="ant-form-item-required letter-label-style">Unidad de de medida
            </nz-form-label>
            <br>
            <nz-form-control>
                <nz-select (ngModelChange)="locationChange($event)" nzPlaceHolder="Unidad de medida" [(ngModel)]="vacuna.unidadMedida" class="formDepar"
                    style="width: 150px;" #unidadMedida name="unidadMedida" [nzSize]="size">
                    <nz-option *ngFor="let municipy of resDepartament" [nzLabel]="municipy.departamento" [nzValue]="municipy.idDepartamento"></nz-option>
                </nz-select>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item fxLayout="column" fxLayoutAlign="start start" fxFlex="48%" fxFlex.lt-sm="45">
            <nz-form-label for="fechaVencimiento" class="ant-form-item-required letter-label-style">Fecha vencimiento
            </nz-form-label>
            <br>
            <nz-form-control>
                <nz-date-picker [(ngModel)]="vacuna.fechaVencimiento" nzPlaceHolder="Fecha vencimiento" #fechaVencimiento name="fechaVencimiento"
                    (ngModelChange)="onChange($event)" style="width: 200px;" required>
                </nz-date-picker>
            </nz-form-control>
        </nz-form-item>
        <div class="tableDynamic">
            <button nz-button class="btnAgregar" (click)="addRow()" nzType="primary">
                <i nz-icon type="plus"></i>
                Agregar
            </button>
            <nz-table #editRowTable nzBordered [nzData]="listData">
                <thead>
                    <tr>
                        <th>Fecha movimiento</th>
                        <th>Descripción</th>
                        <th>Costo producto</th>
                        <th>Entrada</th>
                        <th>Salida</th>
                        <th>Cantidad total</th>
                        <th>Valor total</th>
                        <th>Acción</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let data of editRowTable.data" class="editable-row">
                        <td>
                            {{data.fechaMovimiento}}
                        </td>
                        <td>
                            <div class="edittable-cell" *ngIf="editId !== data.id; else editDescription">
                                <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                                    {{data.descripcion}}
                                </div>
                            </div>
                            <ng-template #editDescription>
                                <input type="text" nz-input [(ngModel)]="vacuna.descripcion" #descripcion name="descripcion" />
                            </ng-template>
                        </td>
                        <td>
                            <div class="edittable-cell" *ngIf="editId !== data.id; else editcostoProducto">
                                <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                                    {{data.costoProducto}}
                                </div>
                            </div>
                            <ng-template #editcostoProducto>
                                <nz-tooltip nzTrigger="focus" nzPlacement="rightTop"  nzTitle="prompt text">
                                    <input type="text" nz-input placeholder="example input" [(ngModel)]="vacuna.costoProducto" #costoProducto name="costoProducto"
                                    />
                                </nz-tooltip>
                            </ng-template>
                        </td>
                        <td>
                            <div class="edittable-cell" *ngIf="editId !== data.id; else editentrada">
                                <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                                    {{data.entrada}}
                                </div>
                            </div>
                            <ng-template #editentrada>
                                <input type="text" nz-input [(ngModel)]="vacuna.entrada" #entrada name="entrada" />
                            </ng-template>
                        </td>
                        <td>
                            <div class="edittable-cell" *ngIf="editId !== data.id; else editsalida">
                                <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                                    {{data.salida}}
                                </div>
                            </div>
                            <ng-template #editsalida>
                                <input type="text" nz-input [(ngModel)]="vacuna.salida" #salida name="salida" />
                            </ng-template>
                        </td>
                        <td>
                            <div class="edittable-cell" *ngIf="editId !== data.id; else editcantidadTotal">
                                <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                                    {{data.cantidadTotal}}
                                </div>
                            </div>
                            <ng-template #editcantidadTotal>
                                <input type="text" nz-input [(ngModel)]="vacuna.cantidadTotal" #cantidadTotal name="cantidadTotal" />
                            </ng-template>
                        </td>
                        <td>
                            <div class="edittable-cell" *ngIf="editId !== data.id; else editvalorTotal">
                                <div class="editable-cell-value-wrap" (click)="startEdit(data.id, $event)">
                                    {{data.valorTotal}}
                                </div>
                            </div>
                            <ng-template #editvalorTotal>
                                <input type="text" nz-input [(ngModel)]="vacuna.valorTotal" #valorTotal name="valorTotal" />
                            </ng-template>
                        </td>
                        <td>
                            <a nz-popconfirm nzTitle="Seguro de eliminar?" nzCancelText="Cancelar" nzOkText="Aceptar" (nzOnConfirm)="deleteRow(data.id)">Eliminar</a>
                        </td>
                    </tr>
                </tbody>
            </nz-table>
        </div>
        <!--<nz-form-item fxLayout="column" fxLayoutAlign="start start" fxFlex="48%" fxFlex.lt-sm="45">
            <nz-form-control [nzSpan]="5" [nzOffset]="5">
                <br>
                <button nz-button nzType="primary" [disabled]="!staffForm.valid">Guardar</button>
            </nz-form-control>
        </nz-form-item>-->
    </div>
</form>
<!-- <nz-alert nzType="success" *ngIf="isAlertVisible == true" nzMessage="Operación Exitosa!" nzShowIcon></nz-alert> -->